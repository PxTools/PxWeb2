<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Pxweb2</title>
    <base href="/" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/svg+xml" href="./images/favicon.svg" />
    <link
      rel="icon"
      type="image/svg+xml"
      media="(prefers-color-scheme: dark)"
      href="./images/favicon-darkmode.svg"
    />
    <link rel="stylesheet" href="src/styles.scss" />
    <link rel="stylesheet" href="./theme/variables.css?v=__BUILD_DATE__" />
    <link
      rel="preload"
      href="./fonts/PxWeb-font-500.ttf"
      as="font"
      crossorigin="anonymous"
      type="font/ttf"
    />
    <link
      rel="preload"
      href="./fonts/PxWeb-font-500-Italic.ttf"
      as="font"
      crossorigin="anonymous"
      type="font/ttf"
    />
    <link
      rel="preload"
      href="./fonts/PxWeb-font-700.ttf"
      as="font"
      crossorigin="anonymous"
      type="font/ttf"
    />
    <link
      rel="preload"
      href="./fonts/PxWeb-font-700-Italic.ttf"
      as="font"
      crossorigin="anonymous"
      type="font/ttf"
    />
    <link
      rel="preload"
      href="./fonts/PxWeb-font-400.ttf"
      as="font"
      crossorigin="anonymous"
      type="font/ttf"
    />
    <link
      rel="preload"
      href="./fonts/PxWeb-font-400-Italic.ttf"
      as="font"
      crossorigin="anonymous"
      type="font/ttf"
    />
    <style>
      .oldLinkClass {
        display: block;
        background-color: #c3e6fe;
        width: 100%;
        font-family: 'PxWeb-font';
        padding: 10px 0 10px 30px;
      }
    </style>
    <script src="./config/config.js?v=__BUILD_DATE__"></script>

    <script type="module">
      // Vite uses ES modules; DOMContentLoaded
      document.addEventListener('DOMContentLoaded', () => {
        const url = new URL(window.location.href);
        url.pathname = url.pathname.replace('/statbank2/', '/statbank/');
        const out = document.getElementById('myLink');
        // if (out) out.textContent = url.toString();
        if (out) out.ATTRIBUTE_NODE.href = url.toString();
      });
    </script>
  </head>

  <body>
    <div id="mytext">
      <a id="myLink" class="oldLinkClass" href=""
        >Lenkte til samme tabell i gammel versjon av pxweb</a
      >
    </div>
    <div id="root"></div>

    <script type="module" src="src/main.tsx"></script>

    <!-- <script>
      // Read current URL object
      const url = new URL(window.location.href);

      // Modify only the path
      url.pathname = url.pathname.replace('/statbank2/', '/statbank/');

      // Output to the div
      document.getElementById('mytext').textContent = document.getElementById(
        'mytext',
      ).textContent = url.toString();
    </script> -->
  </body>
</html>
